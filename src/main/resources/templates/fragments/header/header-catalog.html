<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
    <!-- Header Top -->
    <div th:fragment="header-catalog-background" id="headerCatalogBackground" class="header-catalog"></div>

    <div th:fragment="header-catalog-modal" id="headerCatalogModal" class="header-catalog-modal">
        <div class="header-catalog-modal-items">
            <div th:each="category : ${categoriesForCatalog}" class="header-catalog-modal-item">
                <!-- Изображение категории -->
                <div class="header-catalog-modal-item-img">
                    <a th:href="'/subcategory/' + ${category.id}">
                        <img th:src="${category.categoryImage}" th:alt="${category.categoryImageName}">
                    </a>
                </div>
                <!-- Название категории -->
                <a th:href="'/subcategory/' + ${category.id}">
                    <h4 th:text="${category.name}">Категория</h4>
                </a>
                <!-- Список подкатегорий -->
                <div class="header-catalog-modal-item-subcategory">
                    <a th:each="subcategory : ${category.subcategories}" th:href="'/products/subcategory/' + ${subcategory.id}" th:text="${subcategory.name}"></a>
                </div>
            </div>
        </div>
    </div>

    <div th:fragment="header-catalog-sidebar" id="headerCatalogSidebar" class="header-catalog-sidebar-wrapper">
        <div class="header-catalog-sidebar">
            <div class="header-catalog-sidebar-head-wrapper">
                <div class="header-catalog-sidebar-head">
                    <svg id="headerCatalogIconClose" class="sidebar-catalog-icon-close" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 24 24">
                        <path d="M 20.496094 2.9921875 A 0.50005 0.50005 0 0 0 20.146484 3.1464844 L 12 11.292969 L 3.8535156 3.1464844 A 0.50005 0.50005 0 0 0 3.4941406 2.9941406 A 0.50005 0.50005 0 0 0 3.1464844 3.8535156 L 11.292969 12 L 3.1464844 20.146484 A 0.50005 0.50005 0 1 0 3.8535156 20.853516 L 12 12.707031 L 20.146484 20.853516 A 0.50005 0.50005 0 1 0 20.853516 20.146484 L 12.707031 12 L 20.853516 3.8535156 A 0.50005 0.50005 0 0 0 20.496094 2.9921875 z"></path>
                    </svg>
                </div>
            </div>
            <div class="header-catalog-sidebar-actions-wrapper">
                <div class="header-catalog-sidebar-actions">
                    <div class="profile-button">
                        <a href="#">
                            <img class="profile-icon" src="/images/icons/icons8-customer-48.png" alt="gender-neutral-user"/>
                        </a>
                    </div>
                    <div class="search-container">
                        <form action="/product/search" class="search-form"  method="get">
                            <input type="text" name="search" placeholder="Поиск..." class="search-input">
                            <button type="submit" class="search-button">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="search-icon">
                                    <path d="M10 2a8 8 0 015.292 13.707l4.707 4.707-1.414 1.414-4.707-4.707A8 8 0 1110 2zm0 2a6 6 0 100 12 6 6 0 000-12z"></path>
                                </svg>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="header-catalog-sidebar-title">
                <h3>Каталог</h3>
            </div>
            <div class="header-catalog-sidebar-items">
                <div th:each="category : ${categoriesForCatalog}" class="header-catalog-sidebar-item">
                    <div class="header-catalog-sidebar-item-category-container">
                        <a th:href="'/subcategory/' + ${category.id}" class="category-link" th:text="${category.name}"></a>
                        <button class="toggle-subcategories">▼</button>
                    </div>
                    <div class="subcategory-list">
                        <a th:each="subcategory : ${category.subcategories}"
                           th:href="'/products/subcategory/' + ${subcategory.id}"
                           th:text="${subcategory.name}" class="subcategory-link"></a>
                    </div>
                </div>
            </div>
            <div class="header-catalog-sidebar-nav">
                <nav>
                    <ul class="header-bottom-navbar-menu">
                        <li><a th:href="@{/}">Главная</a></li>
                        <li><a th:href="@{/about}">О нас</a></li>
                        <li><a th:href="@{/category}">Каталог</a></li>
                        <li><a th:href="@{/delivery}">Доставка</a></li>
                        <li><a th:href="@{/partner}">Партнеры</a></li>
                        <li><a th:href="@{/notice}">Новости</a></li>
                        <li><a th:href="@{/vacancy}">Вакансии</a></li>
                        <li><a th:href="@{/contact}">Контакты</a></li>
                        <li><a th:href="@{/certificate}">Сертификаты</a></li>
                    </ul>
                </nav>
            </div>
            <div class="header-catalog-sidebar-contacts">
                <span>+(996) 556-09-15-52</span> <span class="header-catalog-sidebar-contacts-separator"> | </span> <span>+(996) 554-60-11-90</span>
            </div>
        </div>
    </div>
</body>
</html>